---
title: "[iOS] 접근 제어는 뭘까?"
layout: single
categories: TIL
tag: [TIL, iOS, swift]
toc: true
---

# 접근제어

## 접근 제어란?
접근제어는 코드끼리 상호작용을 할 때 파인 간 또는 모듈 간에 접근을 제한할 수 있는 기능이다.
 <br>
불필요한 접근으로 의도치 않은 결과를 초래하거나 꼭 필요한 부분만 제공을 해야하는데 전체 코드가 노출될 가능성이 있을 때 접근제어를 이용한다.

##### 모듈
* 배포할 코드의 묶음 단위(ex: 하나의 프레임워크, 라이브러리, 애플리케이션) - import를 통해 불러오는 것들

##### 소스파일
* Swift 코드 파일 한개를 의미

## 접근 수준
접근 수준 키워드에 따라 접근제어를 필요에 맞게 구현할 수 있다.
 <br>
각 타입에 특정 접근 수준을 지정할 수 있고, 타입 내부의 프로퍼티, 메소드, 이니셜라이저에도 접근 수준을 지정할 수 있다.
 <br>
접근 수준을 명시할 수 있는 키워드로는 open, public, internal, fileprivate, private가 있다.

### open - 개방 접근 수준
* 개방 접근 수준은 공개 접근 수준 이상으로 높은 접근 수준이며, 클래스와 클래스의 멤버에서만 사용할 수 있다.
* 개방 접근 수준의 클래스는 그 클래스가 정의된 모듈 밖의 다른 모듈에서도 상속할 수 있다.
* 개방 접근 수준의 클래스 멤버는 해당 멤버가 정의된 모듈 밖의 다른 모듈에서도 재정의할 수 있다.
* 클래스를 개방 접근 수준으로 명시하는 것은 그 클래스를 다른 모듈에서도 부모클래스로 사용하겠다는 목적으로 클래스를 설계했음을 의미한다.

#### public - 공개 접근 수준
* public 키워드로 접근 수준이 지정된 요소는 어디서든 쓰일 수 있다.
* 공개 접근 수준은 주로 프레임워크에서 외부와 연결될 인터페이스를 구현하는데 많이 쓰인다.
* Swift 표준 라이브러리에 있는 기본 요소는 모두 public 레벨을 가진다.(Bool, Int, String...)

#### internal - 내부 접근 수준
* 내부 접근 수준은 기본적으로 모든 요소에 암묵적으로 지정하는 **기본 접근 수준**이다.
* 내부 접근 수준으로 지정된 요소는 소스파일이 속해 있는 모듈 어디에서든 쓰일 수 있다.
* 하지만 그 모듈을 가져다 쓰는 외부 모듈에서는 접근할 수 없다.
* 보통 외부에서 사용할 클래스나 구조체가 아니며, 모듈 내부에서 광역적으로 사용할 경우 내부 접근 수준을 지정한다.
* internal은 기본 접근 수준이므로 생략이 가능하다.

#### fileprivate - 파일 외부 비공개 접근 수준
* 파일 외부 비공개 접근 수준으로 지정된 요소는 그 요소가 구현된 소스파일 내부에서만 사용할 수 있다.
* 해당 소스파일 외부에서 값이 변경되거나 함수를 호출하면 부작용이 생길 수 있는 경우에 사용하면 좋다.

#### private - 비공개 접근 수준
* 비공개 접근 수준은 가장 한정적인 범위이다.
* 비공개 접근 수준으로 지정된 요소는 그 기능을 정의하고 구현한 범위 내에서만 사용할 수 있다.
* 비공개 접근 수준으로 지정한 기능은 같은 소스파일 안에 구현한 다른 타입이나 기능에서도 사용할 수 없다.

-사진-

## 접근 제어 구현 참고사항
* 상위 요소보다 하위 요소가 더 높은 접근수준을 가질 수 없다.
* 함수의 매개변수로 특정 접근 수준이 부여된 타입이 전달되거나 반환한다면, 그 타입의 접근 수준보다 함수의 접근 수준이 높게 설정될 수 없다.
* 프레임워크를 만들 때는 다른 모듈에서 특정 기능에 접근할 수 있도록 API로 사용할 기능을 공개 접근 수준으로 지정해주어야 한다.
* 열거형 내부의 각 case별로 따로 접근 수준을 부여할 수 없고, 각 case의 접근 수준은 열거형 자체의 접근 수준을 따른다.

## 읽기 전용 구현
* 값을 가져갈 수는 있지만 변경할 수 없도록 구현하고 싶을 때 설정자만 더 낮은 접근 수준을 갖도록 제한하면 된다.
* 요소의 접근 수준 키워드 뒤에 접근수준(set) 처럼 표현하면 설정자의 접근 수준만 더 낮도록 지정해줄 수 있다.
* 설정자 접근 수준 제한은 프로퍼티, 서브스크립트, 변수 등에 적용될 수 있으며, 해당 요소의 접근수준보다 같거나 낮은 수준으로 제한해주어야 한다.